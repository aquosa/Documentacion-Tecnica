DECLARE @VALOR VARCHAR(250)
DECLARE @IDCANAL INT = 28
DECLARE @IDTRANSACTION INT = NULL
SET @VALOR = '%' + 'A' + '%'

SELECT * FROM cf_EvaluacionTransacciones WHERE 
(InputSintax LIKE @VALOR OR OutputSintax LIKE @VALOR) AND IdCanal = @IDCANAL
AND ESTADOBAJA = 'N' AND (@IDTRANSACTION IS NULL OR IdTrx = @IDTRANSACTION)
order by Orden asc

SELECT * FROM cf_SubTransacciones WHERE 
(InputSintax LIKE @VALOR OR OutputSintax LIKE @VALOR) AND 
IdTrx IN (SELECT IDTRX FROM cf_EvaluacionTransacciones WHERE IdCanal = @IDCANAL AND ESTADOBAJA = 'N' AND (@IDTRANSACTION IS NULL OR IdTrx = @IDTRANSACTION))
AND ESTADOBAJA = 'N'
order by Orden asc

SELECT * FROM cf_EvalScripts WHERE Script LIKE @VALOR
AND ESTADOBAJA = 'N' 